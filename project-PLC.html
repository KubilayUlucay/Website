<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project: PLC Automation Systems | Kubilay Ulucay</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&family=Montserrat:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Honk&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link
        rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ’¡</text></svg>">
    <style>
        /* Styles for project page elements */
        .project-gallery img {
            max-height: 300px;
            object-fit: contain;
            width: 100%;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 0.5rem;
        }
        .sub-project-card {
            background-color: var(--bg-color);
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--card-border);
        }
        body.dark-theme .sub-project-card {
            background-color: #2d3748; /* Slightly lighter for contrast in dark mode */
        }

        /* Container for embedding PDF */
        .pdf-embed-container {
            width: 100%;
            height: 80vh; /* 80% of the viewport height, adjust as needed */
            border: 1px solid var(--card-border);
            border-radius: 0.5rem; /* Match other card styles */
            overflow: hidden; /* Ensures iframe respects border-radius */
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Consistent shadow */
        }
        .pdf-embed-container iframe {
            width: 100%;
            height: 100%;
            border: none; /* Remove iframe default border */
        }

        /* Styles for the fixed mini music player on project pages */
        #project-page-music-player-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 280px;
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: 0 5px 15px -3px var(--shadow-color), 0 4px 6px -4px var(--shadow-color);
            border-radius: 0.5rem;
            padding: 1rem;
            z-index: 1000;
            color: var(--text-color);
        }
        #project-page-music-player-panel h4 {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            color: var(--text-color-secondary);
        }
    </style>
</head>
<body class="font-rubik selection:bg-blue-200 selection:text-blue-900">
    <header class="sticky top-0 z-40 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-3xl font-montserrat nav-link flex-shrink-0 mr-6">
                Kubilay Ulucay
            </a>
            <div class="flex items-center space-x-4">
                <a href="index.html#projects" class="nav-link flex items-center">
                    <i class="fas fa-arrow-left mr-2"></i> Back to Projects
                </a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12">
        <section class="card-bg p-6 md:p-8 rounded-lg shadow-lg">
            <h1 class="text-4xl md:text-5xl font-semibold mb-3 font-montserrat card-title">
                PLC Automation Systems
            </h1>
            <p class="text-lg text-[var(--text-color-secondary)] mb-6">
                Developed automation logic for a simulated traffic light system and a functional toy claw machine using Schneider EcoStruxure.
            </p>

            <div class="mb-8">
                <h2 class="text-3xl font-semibold mb-4 card-title border-b pb-2 border-[var(--card-border)]">Project Overview & Report</h2>
                <p class="text-lg leading-relaxed mb-4 card-text">
                    This final project for the EE392 Industrial Automated Systems course involved the design and implementation of two distinct PLC-based automation systems: an intelligent Traffic Lights Controller and an interactive Toy Claw machine. Both systems were developed using Schneider EcoStruxure, focusing on practical application of PLC programming, HMI design, and control logic development. The project aimed to demonstrate proficiency in creating automated solutions for real-world scenarios and entertainment applications.
                </p>
                <p class="text-lg leading-relaxed mb-4 card-text">
                    The full project report, detailing both sub-projects, methodology, and findings, is embedded below for direct viewing:
                </p>
                 <div class="pdf-embed-container">
                    <iframe src="EE392.pdf" title="PLC Automation Systems Project Report EE392">
                        Your browser does not support embedded PDFs. You can <a href="EE392.pdf" target="_blank">download the PDF to view it.</a>
                    </iframe>
                </div>
            </div>

            <div class="sub-project-card">
                <h2 class="text-3xl font-semibold mb-4 card-title border-b pb-2 border-[var(--card-border)]">1. Traffic Lights Controller</h2>
                <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Problem Statement</h3>
                    <p class="text-lg leading-relaxed card-text">
                        The core problem was to design an efficient control system for traffic management at a four-way intersection. This included defining logic for normal operational hours with specific light timings and an "after-hours" mode with flashing yellow lights for reduced traffic periods.
                    </p>
                </div>

                <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Components & HMI</h3>
                    <p class="text-lg leading-relaxed card-text mb-2">
                        <strong>Inputs:</strong> System On/Off (B1), After Hours Operation (B2).
                    </p>
                    <p class="text-lg leading-relaxed card-text mb-2">
                        <strong>Outputs:</strong> 8 traffic lights (L1-L4, two per intersection approach), system working indicator.
                    </p>
                    <p class="text-lg leading-relaxed card-text">
                        <strong>HMI Design:</strong> The HMI featured a visual representation of the intersection with all 8 traffic lights, a system status indicator, and three control buttons: "Start the system," "Stop the system," and "After Hours."
                    </p>
                </div>

                <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Operational Logic</h3>
                    <ul class="list-disc list-inside text-lg card-text space-y-1">
                        <li><strong>Normal Operation:</strong> Red light (90s), Yellow light (5s), Green light (120s followed by 5s flashing at 1Hz). This cycle repeats for opposing pairs of lights.</li>
                        <li><strong>After-Hours Operation:</strong> Activated by button B2, all traffic lights switch to flashing yellow at 1Hz. The system reverts to normal operation if B2 is deactivated and the system is restarted.</li>
                        <li><strong>Advanced Lights (Research):</strong> Explored the use of FCT Push/Pull Load Cells (0.5-500 Ton capacity) for vehicle detection to potentially optimize light timings, though not fully implemented in this phase.</li>
                    </ul>
                </div>
                 <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Observations & Challenges</h3>
                    <ul class="list-disc list-inside text-lg card-text space-y-1">
                        <li>Encountered an issue where the system did not correctly revert to the normal state from after-hours mode if stopped and restarted.</li>
                        <li>Full implementation of Real-Time Clock (RTC) for automatic after-hours switching and sensor-based automation for advanced lights was not completed.</li>
                        <li>A bug was observed where all lights could turn on simultaneously after extended green light periods, potentially leading to unsafe conditions.</li>
                    </ul>
                </div>
            </div>

            <div class="sub-project-card">
                <h2 class="text-3xl font-semibold mb-4 card-title border-b pb-2 border-[var(--card-border)]">2. Toy Claw Machine</h2>
                <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Problem Statement</h3>
                    <p class="text-lg leading-relaxed card-text">
                        The objective was to create an engaging and interactive toy claw machine simulation. This involved designing the control logic for claw movement (X, Y, Z axes), gripper operation, game timing, and user feedback via an HMI.
                    </p>
                </div>

                 <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Gameplay & Components</h3>
                     <p class="text-lg leading-relaxed card-text mb-2">
                        <strong>Game Rules:</strong> Coin insertion activates the game. Player has 90 seconds to position the claw using a joystick. Pressing "Start Game" initiates the claw's automated sequence (open, down, close, up, release). "Winner" or "Game Over" messages are displayed.
                    </p>
                    <p class="text-lg leading-relaxed card-text mb-2">
                        <strong>Inputs:</strong> Game Start button (B0), Coin OK sensor (S0), X/Y motion inputs.
                    </p>
                     <p class="text-lg leading-relaxed card-text mb-2">
                        <strong>Outputs:</strong> X, Y, Z motor controls (Left/Right, Up/Down), Gripper Open/Close.
                    </p>
                    <p class="text-lg leading-relaxed card-text">
                        <strong>HMI Design:</strong> Displayed joystick buttons (Up, Down, Left, Right), "Start Game" button, remaining time, game status messages ("GAME IS ON!", "CONGRATS!", "NO PRIZE :("), and visual feedback for arm motion. Included "Prize: ON/OFF" indicators.
                    </p>
                </div>
                 <div class="mb-6">
                    <h3 class="text-2xl font-semibold mb-2 card-title">Observations & Challenges</h3>
                    <ul class="list-disc list-inside text-lg card-text space-y-1">
                        <li>The "time left" clock did not reset correctly for subsequent rounds after a game finished.</li>
                        <li>The "Date_and_Time_of_Last_Win" internal variable was not displayed in a user-friendly date format on the HMI.</li>
                        <li>Joystick buttons required continuous pressing for movement (hold-to-move).</li>
                        <li>These identified issues were noted as fixable with further development and testing.</li>
                    </ul>
                </div>
            </div>

            <div class="mb-8">
                <h2 class="text-3xl font-semibold mb-4 card-title border-b pb-2 border-[var(--card-border)]">Overall Outcomes & Learning</h2>
                <p class="text-lg leading-relaxed card-text">
                    This project provided valuable hands-on experience in PLC programming with Schneider EcoStruxure, HMI design, and the development of control logic for both sequential and time-based operations. It highlighted the importance of thorough testing and debugging in automation projects. The challenges encountered offered practical learning opportunities in troubleshooting and refining control system behavior. Both sub-projects successfully demonstrated the core principles of industrial automated systems, showcasing the versatility of PLCs in diverse applications from traffic management to interactive entertainment.
                </p>
            </div>

            <div class="mt-12 text-center">
                <a href="index.html#projects" class="btn-pop inline-block bg-[var(--accent1)] hover:bg-[var(--accent2)] text-white font-semibold py-3 px-8 rounded-lg shadow-md transition">
                    <i class="fas fa-arrow-left mr-2"></i> Back to All Projects
                </a>
            </div>
        </section>
    </main>

    <div id="project-page-music-player-panel">
        <h4>Music Player</h4>
        <iframe id="project-soundcloud-iframe-player"
            width="100%"
            height="120" scrolling="no"
            frameborder="no"
            allow="autoplay"
            src="https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/seyit-kubilay-ulucay/sets/website&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=true&visual=false">
        </iframe>
        <div id="project-volume-controls-container" class="mt-2">
            <div class="flex items-center space-x-2">
                <button id="project-mute-toggle-btn" aria-label="Mute/Unmute" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                    <i class="fas fa-volume-up text-[var(--text-color-secondary)]"></i>
                </button>
                <input type="range" id="project-volume-slider" min="0" max="100" value="50" class="w-full h-2 rounded-lg appearance-none cursor-pointer volume-slider-thumb">
            </div>
        </div>
    </div>

    <footer class="footer-bg py-6 mt-20 relative font-rubik">
        <div class="container mx-auto px-6 flex flex-col md:flex-row justify-center items-center">
            <p class="footer-text text-center">
                Â© <span id="current-year"></span> Seyit Kubilay Ulucay.
            </p>
        </div>
        <img
            id="easter-egg-cat"
            src="images/peek-cat.gif" onerror="this.src='https://placehold.co/64x64/333/ccc?text=Peek'" alt="Peeking Cat"
            class="absolute bottom-0 right-4 w-16 opacity-50 hover:opacity-100 transition-opacity cursor-pointer"
            title="Meow?"
        >
    </footer>

    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script>
        // --- Footer Year & Basic Theme Application ---
        const yearElement = document.getElementById("current-year");
        if (yearElement) { yearElement.textContent = new Date().getFullYear(); }

        const applyProjectPageTheme = () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            } else {
                document.body.classList.remove('dark-theme');
            }
            if (typeof updateProjectVolumeSliderAppearance === 'function') {
                updateProjectVolumeSliderAppearance();
            }
        };
        applyProjectPageTheme();

        // --- Music Player Logic for Project Pages ---
        document.addEventListener('DOMContentLoaded', () => {
            const projectSoundcloudIframe = document.getElementById('project-soundcloud-iframe-player');
            const projectVolumeSlider = document.getElementById('project-volume-slider');
            const projectMuteToggleButton = document.getElementById('project-mute-toggle-btn');
            let projectScWidget = null;
            let projectIsMuted = false;
            let projectLastVolume = 50;

            window.updateProjectVolumeSliderAppearance = () => {
                if (!projectVolumeSlider) return;
                const progressPercent = projectVolumeSlider.value;
                const getProjectCssVariable = (varName) => document.body ? getComputedStyle(document.body).getPropertyValue(varName).trim() : null;
                const progressColor = getProjectCssVariable('--volume-slider-progress-bg') || '#FF61E1';
                const trackColor = getProjectCssVariable('--volume-slider-track-bg') || '#e5e7eb';
                projectVolumeSlider.style.background = `linear-gradient(to right, ${progressColor} ${progressPercent}%, ${trackColor} ${progressPercent}%)`;
            };

            if (projectSoundcloudIframe && typeof SC !== 'undefined') {
                projectScWidget = SC.Widget(projectSoundcloudIframe);
                projectScWidget.bind(SC.Widget.Events.READY, () => {
                    console.log('SoundCloud Widget is ready on project page.');
                    const savedTrackURI = localStorage.getItem('soundcloudTrackURI');
                    const savedTrackTimeStr = localStorage.getItem('soundcloudTrackTime');
                    const savedVolumeStr = localStorage.getItem('soundcloudVolume');
                    const savedMutedStr = localStorage.getItem('soundcloudMuted');
                    const savedIsPlayingStr = localStorage.getItem('soundcloudIsPlaying');
                    let playAfterLoad = savedIsPlayingStr === 'true';

                    if (savedVolumeStr !== null) {
                        projectLastVolume = parseInt(savedVolumeStr, 10);
                        projectVolumeSlider.value = projectLastVolume;
                        projectScWidget.setVolume(projectLastVolume);
                    } else {
                         projectVolumeSlider.value = projectLastVolume;
                         projectScWidget.setVolume(projectLastVolume);
                    }
                    if (savedMutedStr === 'true') {
                        projectIsMuted = true;
                        projectScWidget.setVolume(0);
                        projectVolumeSlider.value = 0;
                        projectMuteToggleButton.innerHTML = '<i class="fas fa-volume-mute text-[var(--text-color-secondary)]"></i>';
                    } else {
                        projectIsMuted = false;
                         projectMuteToggleButton.innerHTML = '<i class="fas fa-volume-up text-[var(--text-color-secondary)]"></i>';
                    }
                    updateProjectVolumeSliderAppearance();

                    if (savedTrackURI) {
                        projectScWidget.load(savedTrackURI, {
                            auto_play: playAfterLoad,
                            callback: () => {
                                if (savedTrackTimeStr) {
                                    projectScWidget.seekTo(parseInt(savedTrackTimeStr, 10));
                                }
                                if (playAfterLoad && projectScWidget.play) {
                                   setTimeout(() => projectScWidget.play(), 250);
                                }
                            }
                        });
                    }
                });
                projectScWidget.bind(SC.Widget.Events.ERROR, (err) => { console.error("Project Page SC Widget Error:", err);});
            }

            if (projectVolumeSlider && projectScWidget) {
                projectVolumeSlider.addEventListener('input', () => {
                    const newVolume = parseInt(projectVolumeSlider.value, 10);
                    projectScWidget.setVolume(newVolume);
                    projectLastVolume = newVolume;
                    projectIsMuted = newVolume === 0;
                    localStorage.setItem('soundcloudVolume', newVolume.toString());
                    localStorage.setItem('soundcloudMuted', projectIsMuted.toString());
                    projectMuteToggleButton.innerHTML = projectIsMuted ? '<i class="fas fa-volume-mute text-[var(--text-color-secondary)]"></i>' : '<i class="fas fa-volume-up text-[var(--text-color-secondary)]"></i>';
                    updateProjectVolumeSliderAppearance();
                });
            }

            if (projectMuteToggleButton && projectScWidget) {
                projectMuteToggleButton.addEventListener('click', () => {
                    projectIsMuted = !projectIsMuted;
                    if (projectIsMuted) {
                        projectScWidget.getVolume((currentVolume) => {
                            if(currentVolume > 0) projectLastVolume = currentVolume;
                            projectScWidget.setVolume(0);
                            projectVolumeSlider.value = 0;
                            projectMuteToggleButton.innerHTML = '<i class="fas fa-volume-mute text-[var(--text-color-secondary)]"></i>';
                        });
                    } else {
                        const restoreVolume = projectLastVolume > 0 ? projectLastVolume : 50;
                        projectScWidget.setVolume(restoreVolume);
                        projectVolumeSlider.value = restoreVolume;
                        projectMuteToggleButton.innerHTML = '<i class="fas fa-volume-up text-[var(--text-color-secondary)]"></i>';
                    }
                    localStorage.setItem('soundcloudMuted', projectIsMuted.toString());
                    if (!projectIsMuted) localStorage.setItem('soundcloudVolume', projectVolumeSlider.value);
                    updateProjectVolumeSliderAppearance();
                });
            }
            updateProjectVolumeSliderAppearance();
        });
    </script>
</body>
</html>
